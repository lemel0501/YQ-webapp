<!doctype html>
<html lang="zh-Hant">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>YQ Notify Â· WebApp</title>
<style>
  body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC",sans-serif;margin:0;padding:16px;background:#f6fff3}
  .card{background:#fff;border:1px solid #cfe3d3;border-radius:14px;padding:14px;margin:10px auto;max-width:720px;box-shadow:0 8px 20px rgba(0,0,0,.05)}
  h3{margin:.3em 0 .6em}
  label{display:block;margin:.5em 0 .25em;font-weight:600}
  input,button{width:100%;box-sizing:border-box;padding:10px 12px;border:1px solid #cfe3d3;border-radius:12px;font-size:16px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .weekday{display:flex;gap:8px;flex-wrap:wrap}
  .weekday label{border:1px solid #cfe3d3;border-radius:999px;padding:.4em .8em;font-weight:500}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .btn{background:#1e7f53;color:#fff;border:none;font-weight:700;cursor:pointer}
</style>

<body>
  <div class="card">
    <h3>ğŸ“… æœ‰æ•ˆæ˜ŸæœŸ</h3>
    <div class="weekday">
      <label><input type="checkbox" id="wd0" checked> é€±ä¸€</label>
      <label><input type="checkbox" id="wd1" checked> é€±äºŒ</label>
      <label><input type="checkbox" id="wd2" checked> é€±ä¸‰</label>
      <label><input type="checkbox" id="wd3" checked> é€±å››</label>
      <label><input type="checkbox" id="wd4" checked> é€±äº”</label>
      <label><input type="checkbox" id="wd5"> é€±å…­</label>
      <label><input type="checkbox" id="wd6"> é€±æ—¥</label>
    </div>
  </div>

<!-- ğŸ•’ å®šæ™‚æ’ç¨‹ï¼ˆWebApp ç‰ˆï¼‰ï¼šå…­è·¯ HH:MM èˆ‡ ä¿æŒæ™‚é–“ -->
<div class="card">
  <h3>ğŸ•’ å®šæ™‚æ’ç¨‹ï¼ˆCH1~CH6ï¼‰</h3>
  <p style="margin:.2em 0 .8em;color:#5b6b5f">è¨­å®šæ¯ä¸€è·¯çš„è§¸ç™¼æ™‚é–“ï¼ˆHH:MMï¼‰èˆ‡ä¿æŒæ™‚é–“ï¼ˆåˆ†ã€ç§’ï¼›ä¸Šé™ 3600 ç§’ï¼‰ã€‚</p>

  <div class="grid">
    <!-- 6 è·¯ï¼Œå…©æ¬„ä¸€æ’ -->
    <div>
      <label>CH1 æ™‚é–“ï¼ˆt0ï¼‰</label><input id="t0" placeholder="07:30">
      <div class="row" style="margin-top:6px">
        <div><label>åˆ†ï¼ˆhm0ï¼‰</label><input id="hm0" type="number" min="0" max="59" value="0"></div>
        <div><label>ç§’ï¼ˆhs0ï¼‰</label><input id="hs0" type="number" min="0" max="3600" value="5"></div>
      </div>
    </div>

    <div>
      <label>CH2 æ™‚é–“ï¼ˆt1ï¼‰</label><input id="t1" placeholder="08:00">
      <div class="row" style="margin-top:6px">
        <div><label>åˆ†ï¼ˆhm1ï¼‰</label><input id="hm1" type="number" min="0" max="59" value="0"></div>
        <div><label>ç§’ï¼ˆhs1ï¼‰</label><input id="hs1" type="number" min="0" max="3600" value="5"></div>
      </div>
    </div>

    <div>
      <label>CH3 æ™‚é–“ï¼ˆt2ï¼‰</label><input id="t2" placeholder="09:00">
      <div class="row" style="margin-top:6px">
        <div><label>åˆ†ï¼ˆhm2ï¼‰</label><input id="hm2" type="number" min="0" max="59" value="0"></div>
        <div><label>ç§’ï¼ˆhs2ï¼‰</label><input id="hs2" type="number" min="0" max="3600" value="5"></div>
      </div>
    </div>

    <div>
      <label>CH4 æ™‚é–“ï¼ˆt3ï¼‰</label><input id="t3" placeholder="10:00">
      <div class="row" style="margin-top:6px">
        <div><label>åˆ†ï¼ˆhm3ï¼‰</label><input id="hm3" type="number" min="0" max="59" value="0"></div>
        <div><label>ç§’ï¼ˆhs3ï¼‰</label><input id="hs3" type="number" min="0" max="3600" value="5"></div>
      </div>
    </div>

    <div>
      <label>CH5 æ™‚é–“ï¼ˆt4ï¼‰</label><input id="t4" placeholder="11:00">
      <div class="row" style="margin-top:6px">
        <div><label>åˆ†ï¼ˆhm4ï¼‰</label><input id="hm4" type="number" min="0" max="59" value="0"></div>
        <div><label>ç§’ï¼ˆhs4ï¼‰</label><input id="hs4" type="number" min="0" max="3600" value="5"></div>
      </div>
    </div>

    <div>
      <label>CH6 æ™‚é–“ï¼ˆt5ï¼‰</label><input id="t5" placeholder="12:00">
      <div class="row" style="margin-top:6px">
        <div><label>åˆ†ï¼ˆhm5ï¼‰</label><input id="hm5" type="number" min="0" max="59" value="0"></div>
        <div><label>ç§’ï¼ˆhs5ï¼‰</label><input id="hs5" type="number" min="0" max="3600" value="5"></div>
      </div>
    </div>
  </div>
</div>
  <div class="card">
    <h3>ğŸ§® è¨ˆæ•¸å™¨è¨­å®š</h3>
    <label>#1 æ¨æ’­è¨Šæ¯ï¼ˆcm0ï¼‰</label>
    <input id="cm0" placeholder="è¨ˆæ•¸å™¨#1">
    <div class="row">
      <div>
        <label>#1 é”æ¨™é–€æª»ï¼ˆcn0ï¼Œ0=åœç”¨ï¼‰</label>
        <input id="cn0" type="number" min="0" step="1" value="0">
      </div>
    </div>
    <hr style="border:0;border-top:1px dashed #cfe3d3;margin:14px 0">
    <div class="row">
      <div>
        <label>#2 æ¯æ—¥å›å ±æ™‚é–“ï¼ˆct1ï¼ŒHH:MMï¼‰</label>
        <input id="ct1" placeholder="17:30">
      </div>
      <div>
        <label>#2 æ¨æ’­è¨Šæ¯ï¼ˆcm1ï¼‰</label>
        <input id="cm1" placeholder="è¨ˆæ•¸å™¨#2">
      </div>
    </div>
  </div>

  <div class="card">
    <button class="btn" id="send">é€å‡ºåˆ°è£ç½®ï¼ˆTelegram WebAppï¼‰</button>
  </div>

<script>
(function () {
  // 1) å–å¾— Telegram WebApp ç‰©ä»¶ä¸¦å°±ç·’/å±•é–‹
  const tg = window.Telegram && window.Telegram.WebApp;
  if (tg && tg.ready) tg.ready();
  if (tg && tg.expand) tg.expand();

  // 2) æ”¶é›†è¡¨å–® â†’ å›å‚³ JSONï¼ˆè«‹ä¿è­‰é€™äº›æ¬„ä½åœ¨é é¢ä¸Šï¼‰
  function collect() {
    const wd = [];
    for (let i = 0; i < 7; i++) {
      const el = document.getElementById('wd' + i);
      if (el) wd.push(el.checked ? 1 : 0);
    }
    const ts = [], hm = [], hs = [];
    for (let i = 0; i < 6; i++) {
      ts.push((document.getElementById('t' + i)?.value || '').trim());
      hm.push(parseInt(document.getElementById('hm' + i)?.value || '0', 10) || 0);
      hs.push(parseInt(document.getElementById('hs' + i)?.value || '0', 10) || 0);
    }
    const cm0 = document.getElementById('cm0')?.value || '';
    const cn0 = parseInt(document.getElementById('cn0')?.value || '0', 10) || 0;
    const ct1 = (document.getElementById('ct1')?.value || '').trim();
    const cm1 = document.getElementById('cm1')?.value || '';
    return { wd, ts, hm, hs, cm0, cn0, ct1, cm1 };
  }

  // 3) ç¶å®šã€Œé€å‡ºåˆ°è£ç½®ã€æŒ‰éˆ•
  const btn = document.getElementById('send');
  btn.addEventListener('click', function () {
    if (!(tg && tg.sendData)) {
      alert('è«‹å¾ Telegram å…§é–‹å•Ÿæ­¤é ï¼ˆé»èŠå¤©è£¡çš„ã€Œâš™ï¸ é–‹å•Ÿè¨­å®šã€ï¼‰ï¼Œå¤–éƒ¨ç€è¦½å™¨ç„¡æ³•é€å‡ºã€‚');
      return;
    }
    const data = JSON.stringify(collect());
    if (tg.showAlert) tg.showAlert('å·²é€å‡ºè¨­å®šåˆ°èŠå¤©ï¼Œè£ç½®å°‡åœ¨ 1â€“2 ç§’å…§å¥—ç”¨ã€‚');
    tg.sendData(data);              // å›å‚³åˆ°èŠå¤©ï¼ˆweb_app_dataï¼‰
    if (tg.close) tg.close();
  });

  // 4) ï¼ˆå¯é¸ï¼‰é¡¯ç¤ºåº•éƒ¨ä¸»æŒ‰éˆ•
  if (tg && tg.MainButton) {
    tg.MainButton.setText('é€å‡ºåˆ°è£ç½®');
    tg.MainButton.onClick(() => btn.click());
    tg.MainButton.show();
  }
})();
</script>
</body>





